<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Membuat Service di Framework Angular</title><meta name="description" content="Setelah pada tulisan pertama kita telah membahas bagaimana untuk memulai membuat project Angular, dan pada tulisan kedua belajar membuat…"><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Membuat Service di Framework Angular</h1>
</header>
<section data-field="subtitle" class="p-summary">
Setelah pada tulisan pertama kita telah membahas bagaimana untuk memulai membuat project Angular, dan pada tulisan kedua belajar membuat…
</section>
<section data-field="body" class="e-content">
<section name="ff0c" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="0e47" id="0e47" class="graf graf--h3 graf--leading graf--title">Membuat Service di Framework Angular</h3><figure name="236e" id="236e" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 266px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 38%;"></div><img class="graf-image" data-image-id="1*_eZSUVuXd4rmx1vmFh-HCg.jpeg" data-width="800" data-height="304" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*_eZSUVuXd4rmx1vmFh-HCg.jpeg"></div><figcaption class="imageCaption">Angular Indonesia : Membuat Service</figcaption></figure><p name="5316" id="5316" class="graf graf--p graf--hasDropCapModel graf--hasDropCap graf-after--figure"><span class="graf-dropCap">S</span>etelah pada tulisan pertama kita telah membahas bagaimana untuk <a href="https://mazipanneh.com/blog/2017/05/belajar-angular-bagian-1-pengenalan-dan-inisialisasi-project/" data-href="https://mazipanneh.com/blog/2017/05/belajar-angular-bagian-1-pengenalan-dan-inisialisasi-project/" class="markup--anchor markup--p-anchor" rel="noopener noreferrer noopener" target="_blank">memulai membuat project Angular</a>, dan pada tulisan kedua <a href="http://mazipanneh.com/blog/2017/05/belajar-angular-bagian-2-membuat-komponen/" data-href="http://mazipanneh.com/blog/2017/05/belajar-angular-bagian-2-membuat-komponen/" class="markup--anchor markup--p-anchor" rel="noopener noreferrer noopener" target="_blank">belajar membuat component</a> kali ini kita akan bahas soal membuat service. Service atau Provider dalam Angular sendiri sudah diperkenalkan sejak AngularJS v.1.x, dimana service menjadi bagian yang <code class="markup--code markup--p-code">Injectable</code> dari kode Angular sehingga pada prakteknya sering digunakan sebagai pembungkusan (Encapsulation) dari suatu logic. Angular sendiri sudah menggunakan depedency injection (DI) sejak AngularJS versi 1.x sehingga lebih mudah untuk meng-inject atau memasukkan service kedalam komponen yang ingin menggunakannya.</p><p name="651a" id="651a" class="graf graf--p graf-after--p">Bila kita sudah belajar Angular v.1.x kita biasa melakukan injection service dengan cara kurang lebih seperti ini :</p><figure name="493e" id="493e" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/mazipan/1ddb9dab1ec5f76415b97af8d77d3981.js"></script></figure><p name="e36b" id="e36b" class="graf graf--p graf-after--figure">Bisa dilihat kode diatas adalah bagaimana AngularJS 1.x melakukan depedency injection service <code class="markup--code markup--p-code">irfanShareObject</code> ke dalam controller, tidak perlu ada instance baru untuk tiap kali penggunaan service dalam controller, cukup mendefinisikan service yang akan digunakan dalam pembuatan controllernya. <br>Untuk isi service nya pun, bisa mulai dari wrap logic sederhana sampai logic yang dirasa terlalu berat untuk langsung dibuat di controller sehingga developer memilih untuk membungkusnya dalam suatu service. Berikut contoh kode service dalam AngularJS 1.x :</p><figure name="1431" id="1431" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/mazipan/e83f59c2df045502d41906ef635a3c1a.js"></script></figure><p name="81f4" id="81f4" class="graf graf--p graf-after--figure graf--trailing">Isi dari file contoh diatas hanya logic sederhana untuk mencari <em class="markup--em markup--p-em">fullname </em>dari sebuah <em class="markup--em markup--p-em">firstname </em>dan <em class="markup--em markup--p-em">lastname</em>.</p></div></div></section><section name="5685" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="06b7" id="06b7" class="graf graf--p graf--hasDropCapModel graf--hasDropCap graf--leading"><span class="graf-dropCap">S</span>etelah sekilas kita #throwback ke AngularJS 1.x maka kita coba membuat service di Anglular versi 2 keatas, untuk studi kasus sendiri saya akan coba contohkan membuat service yang mem-wrap logic untuk GET data dari suatu public API untuk kemudian memformat sesuai dengan kebutuhan client. Berikut langkah-langkahnya :</p><p name="0b62" id="0b62" class="graf graf--p graf-after--p">Kita akan menggunakan API dari Starwars API (<a href="https://swapi.co/" data-href="https://swapi.co/" class="markup--anchor markup--p-anchor" rel="noopener noreferrer noopener" target="_blank">https://swapi.co</a>), dimana saya akan mencontohkan GET data Film dari API tersebut. Url API dari list Film sendiri ada di <a href="https://swapi.co/api/films/" data-href="https://swapi.co/api/films/" class="markup--anchor markup--p-anchor" rel="noopener noreferrer noopener" target="_blank">https://swapi.co/api/films/</a>. <br>Langkah pertama sebelum memulai semua nya, saya akan menyiapkan beberapa class <code class="markup--code markup--p-code">Film</code> yang akan digunakan sebagai Object untuk menampung data hasil response dari API tersebut. Karena datanya terlalu banyak, dan saya capek untuk menulis semuanya maka saya hanya akan ambil beberapa data saja. Berikut contoh kode class <code class="markup--code markup--p-code">Film</code> :</p><figure name="0660" id="0660" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/mazipan/c440ce93e9201ea110c6f61e4ec41ff4.js"></script></figure><p name="482b" id="482b" class="graf graf--p graf-after--figure graf--trailing">Ya, seperti itulah penampakannya. Dengan typescript kita bisa mendefinisikan tipe data dari masing-masing properti <code class="markup--code markup--p-code">Film</code> yang akan kita ambil.</p></div></div></section><section name="429a" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="21a2" id="21a2" class="graf graf--p graf--hasDropCapModel graf--hasDropCap graf--leading"><span class="graf-dropCap">S</span>etelahnya saya akan membuat beberapa helper class yang akan saya butuhkan nanti (*ini tidak harus dipisah, tapi saya lebih senang menggunakan helper dibandingkan langsung menulis logic ditempat yang sama). <br>Saya akan membuat helper <code class="markup--code markup--p-code">UrlCollection</code> yang isinya :</p><figure name="93ef" id="93ef" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/mazipan/79149f326f4d44b523fdc59699d79fe8.js"></script></figure><p name="95d2" id="95d2" class="graf graf--p graf-after--figure">Ini merupakan list url dari API yang akan di hit nanti, sebenarnya akan lebih baik jika menggunakan <code class="markup--code markup--p-code">enum / enumeration</code> untuk membuat class semacam ini. Namun karena pada saat menulis artikel ini saya belum pernah menggunakan <code class="markup--code markup--p-code">enum</code> di Angular maka saya cari yang cepat di kerjakan saja. :-) <br>Berikutnya saya akan membuat helper class <code class="markup--code markup--p-code">ObjectConverter</code> yang isinya :</p><figure name="e494" id="e494" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/mazipan/da7ac69dd793911645b01c703c951d0d.js"></script></figure><p name="daa2" id="daa2" class="graf graf--p graf-after--figure">Class ini saya gunakan untuk mem-casting data dari tipe <code class="markup--code markup--p-code">any</code> ke tipe <code class="markup--code markup--p-code">Film</code>, namun setelah saya baca-baca lagi ternyata Typescript mempunyai syntax yang lebih sederhana dibandingkan cara manual yang saya lakukan. Silahkan baca : <a href="http://acdcjunior.github.io/typescript-cast-object-to-other-type-or-instanceof.html" data-href="http://acdcjunior.github.io/typescript-cast-object-to-other-type-or-instanceof.html" class="markup--anchor markup--p-anchor" rel="noopener noreferrer noopener" target="_blank">http://acdcjunior.github.io/typescript-cast-object-to-other-type-or-instanceof.html</a>. Karena pada saat saya membuat artikel ini saya belum sempat baca artiel diatas jadi sudahlah biarkan saja saya membodohi diri sendiri dengan kode diatas ya.</p><p name="191a" id="191a" class="graf graf--p graf-after--p">Berikutnya kita akan membuat Service untuk meng-GET data, berikut kodenya :</p><figure name="8571" id="8571" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/mazipan/9a36e635324251bac9121c0bae752ecf.js"></script></figure><p name="3d34" id="3d34" class="graf graf--p graf-after--figure">Bisa dilihat kode diatas, pertama kita membutuhkan depedency <code class="markup--code markup--p-code">import { Injectable } from &#39;@angular/core&#39;</code>, ini merupakan salah satu syarat agar service kita bisa digunakan di component nantinya. Dengan menggunakan depedency ini kita bisa menambahkan decorator <code class="markup--code markup--p-code">@Injectable()</code> pada saat pembuatan class service ini. <br>Kita juga menambahkan depedency <code class="markup--code markup--p-code">import { Http, Response} from &#39;@angular/http&#39;</code> untuk melakukan getting data dan mendapatkan balikan dalam bentuk Object Response. Oh iya, <code class="markup--code markup--p-code">http</code> ini mesti di definisikan sebagai <code class="markup--code markup--p-code">constructor</code> ya. <br>Terakhir kita butuh bantuan dari RxJS yakni <code class="markup--code markup--p-code">import {Observable} from &#39;rxjs/Rx&#39;</code>, <code class="markup--code markup--p-code">import &#39;rxjs/add/operator/map&#39;</code> dan <code class="markup--code markup--p-code">import &#39;rxjs/add/operator/catch&#39;</code>. Tapi tenang saja karena by default semuanya sudah menjadi depedency wajib bagi Angular, jadi kita tidak perlu lagi menambahkan di list depedency di package.json kita. <br>Untuk sisanya bisa coba dipahami kode diatas.</p><p name="f801" id="f801" class="graf graf--p graf-after--p">Setelah membuat service ini kita perlu menambahkan file ini sebagai provider di file <code class="markup--code markup--p-code">app.module.ts</code>, berikut kurang lebih kodenya :</p><figure name="e8a6" id="e8a6" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/mazipan/c2100d4654279f1bbbf89ceff958b3ee.js"></script></figure><p name="f74b" id="f74b" class="graf graf--p graf-after--figure">Setelah ini kita akan buat contoh bagaimana memanggil file service ini di sebuah component. Kita membuat component <code class="markup--code markup--p-code">/Film/film-list.component</code> dengan kode kurang lebih seperti ini :</p><figure name="9d44" id="9d44" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/mazipan/8fa5b46323ee1f73a935de6cd09aac48.js"></script></figure><p name="4d18" id="4d18" class="graf graf--p graf-after--figure">Kita hanya perlu menambahkan <code class="markup--code markup--p-code">FilmService</code> sebagai constructor di component kita maka dengan begitu kita bisa menggunakan fungsi di dalam service tersebut. Seperti pada kode diatas kita bisa memanggil <code class="markup--code markup--p-code">filmService.getFilms()</code> dengan mudahnya. <br>Saya juga menambahkan fungsi <code class="markup--code markup--p-code">trackByEpisodId(index:number, film:Film)</code> untuk digunakan di view template karena pada saat saya membuat contoh kode ini saya belum menemukan built-in <code class="markup--code markup--p-code">trackBy</code> seperti pada AngularJS v.1.x.</p><p name="f238" id="f238" class="graf graf--p graf-after--p">Sedangkan isi html view template dari component ini sebagai berikut :</p><figure name="ee9d" id="ee9d" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/mazipan/53971eb9185a207873c786ee284a825d.js"></script></figure><p name="4e97" id="4e97" class="graf graf--p graf-after--figure">Semua langkah diatas sudah di otomatatisasi oleh Angular-CLI dengan perintah :</p><pre name="2e19" id="2e19" class="graf graf--pre graf-after--p">ng generate service my-new-service<br>// atau<br>ng g service my-new-service</pre><p name="5201" id="5201" class="graf graf--p graf-after--pre">Kode yang digunakan dalam tutorial ini diambil dari repository</p><div name="5d1f" id="5d1f" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://github.com/mazipan/ng2-starwars" data-href="https://github.com/mazipan/ng2-starwars" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/mazipan/ng2-starwars"><strong class="markup--strong markup--mixtapeEmbed-strong">mazipan/ng2-starwars</strong><br><em class="markup--em markup--mixtapeEmbed-em">ng2-starwars - :star2: Star Wars API Implementation in Angular2</em>github.com</a><a href="https://github.com/mazipan/ng2-starwars" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="d4765c7a40fdc3a263d1f6456e6c95a8" data-thumbnail-img-id="0*lXHy0HvOf315hbW5." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*lXHy0HvOf315hbW5.);"></a></div><p name="2a4b" id="2a4b" class="graf graf--p graf-after--mixtapeEmbed">Dan bisa dilihat demo nya di : <a href="http://mazipan.github.io/ng2-starwars/" data-href="http://mazipan.github.io/ng2-starwars/" class="markup--anchor markup--p-anchor" rel="noopener noreferrer noopener noopener" target="_blank">http://mazipan.github.io/ng2-starwars/</a>.</p><div name="06c7" id="06c7" class="graf graf--mixtapeEmbed graf-after--p"><a href="http://mazipan.github.io/ng2-starwars/" data-href="http://mazipan.github.io/ng2-starwars/" class="markup--anchor markup--mixtapeEmbed-anchor" title="http://mazipan.github.io/ng2-starwars/"><strong class="markup--strong markup--mixtapeEmbed-strong">Ng2-StarWars | Irfan Maulana</strong><br><em class="markup--em markup--mixtapeEmbed-em">Angular Example Project Using StarWars API by Irfan Maulana</em>mazipan.github.io</a><a href="http://mazipan.github.io/ng2-starwars/" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="4c182de14de3ed47dc9e491b92b72992" data-thumbnail-img-id="0*TQQp6b6kSfBMGR9P." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*TQQp6b6kSfBMGR9P.);"></a></div><p name="a819" id="a819" class="graf graf--p graf-after--mixtapeEmbed">Silahkan dipelajari source code nya.</p><p name="ce47" id="ce47" class="graf graf--p graf-after--p">Tulisan ini juga telah saya publikasikan di blog pribadi saya <a href="https://mazipanneh.com/blog/2017/05/belajar-angular-bagian-3-membuat-service/" data-href="https://mazipanneh.com/blog/2017/05/belajar-angular-bagian-3-membuat-service/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">disini</a>.</p><p name="a079" id="a079" class="graf graf--p graf-after--p"><a href="https://mazipanneh.com/blog/2017/05/belajar-angular-bagian-3-membuat-service/" data-href="https://mazipanneh.com/blog/2017/05/belajar-angular-bagian-3-membuat-service/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">https://mazipanneh.com/blog/2017/05/belajar-angular-bagian-3-membuat-service/</a></p><p name="463f" id="463f" class="graf graf--p graf-after--p graf--trailing">Demikian sekilas pembahasan awal mengenai framework Angular, semoga bermanfaat tulisan yang tidak seberapa ini.</p></div></div></section><section name="7abb" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="50b5" id="50b5" class="graf graf--p graf--leading">Jangan lupa untuk join <strong class="markup--strong markup--p-strong">Angular Indonesia</strong> di channel berikut :</p><ul class="postList"><li name="d0e2" id="d0e2" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Facebook </strong>: <a href="https://m.facebook.com/groups/462764390497214" data-href="https://m.facebook.com/groups/462764390497214" class="markup--anchor markup--li-anchor" rel="nofollow noopener noopener noopener nofollow noopener noopener" target="_blank">https://m.facebook.com/groups/462764390497214</a></li><li name="0b4d" id="0b4d" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Github </strong>: <a href="https://github.com/angular-indonesia" data-href="https://github.com/angular-indonesia" class="markup--anchor markup--li-anchor" rel="nofollow noopener noopener noopener nofollow noopener noopener" target="_blank">https://github.com/angular-indonesia</a></li><li name="d1f6" id="d1f6" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Telegram </strong>: <a href="https://t.me/AngularID" data-href="https://t.me/AngularID" class="markup--anchor markup--li-anchor" rel="nofollow noopener noopener noopener nofollow noopener noopener" target="_blank">https://t.me/AngularID</a></li><li name="b513" id="b513" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Medium </strong>: <a href="https://medium.com/angularid" data-href="https://medium.com/angularid" class="markup--anchor markup--li-anchor" rel="nofollow" target="_blank">https://medium.com/angularid</a></li><li name="abd2" id="abd2" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Blog </strong>: <a href="https://angular-indonesia.github.io/blogs" data-href="https://angular-indonesia.github.io/blogs" class="markup--anchor markup--li-anchor" rel="nofollow noopener noopener noopener nofollow noopener noopener" target="_blank">https://angular-indonesia.github.io/blogs</a></li></ul><blockquote name="97c2" id="97c2" class="graf graf--blockquote graf-after--li">Ditulis oleh <a href="https://medium.com/u/d09eac079a9c" data-href="https://medium.com/u/d09eac079a9c" data-anchor-type="2" data-user-id="d09eac079a9c" data-action-value="d09eac079a9c" data-action="show-user-card" data-action-type="hover" class="markup--user markup--blockquote-user" target="_blank">Irfan Maulana</a></blockquote><p name="52d2" id="52d2" class="graf graf--p graf-after--blockquote graf--trailing">Salam.</p></div></div></section>
</section>
<footer><p class="p-tags">Tagged in <a href="https://medium.com/tag/angularid" class="p-tag">Angularid</a>, <a href="https://medium.com/tag/angular" class="p-tag">Angular</a>, <a href="https://medium.com/tag/angular2" class="p-tag">Angular2</a>, <a href="https://medium.com/tag/angularjs" class="p-tag">Angularjs</a>, <a href="https://medium.com/tag/angularjs2" class="p-tag">Angularjs2</a></p><p>By <a href="https://medium.com/@mazipanneh" class="p-author h-card">Irfan Maulana</a> on <a href="https://medium.com/p/a499b98cfbad"><time class="dt-published" datetime="2017-05-30T07:34:17.418Z">May 30, 2017</time></a>.</p><p><a href="https://medium.com/@mazipanneh/membuat-service-di-framework-angular-a499b98cfbad" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on May 8, 2018.</p></footer></article>

</body></html>