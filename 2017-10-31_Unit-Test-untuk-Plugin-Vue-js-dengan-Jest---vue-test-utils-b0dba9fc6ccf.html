<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Unit Test untuk Plugin Vue.js dengan Jest + vue-test-utils</title><meta name="description" content="Belajar membuat unit testing untuk Plugin Vue.js dengan Jest dan vue-test-utils"><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Unit Test untuk Plugin Vue.js dengan Jest + vue-test-utils</h1>
</header>
<section data-field="subtitle" class="p-summary">
Belajar membuat unit testing untuk Plugin Vue.js dengan Jest dan vue-test-utils
</section>
<section data-field="body" class="e-content">
<section name="6e68" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="6c5e" id="6c5e" class="graf graf--h3 graf--leading graf--title">Unit Test untuk Plugin Vue.js dengan Jest + vue-test-utils</h3><p name="aabe" id="aabe" class="graf graf--p graf-after--h3">Belajar membuat unit testing untuk Plugin Vue.js dengan Jest dan vue-test-utils</p><figure name="1153" id="1153" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 350px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50%;"></div><img class="graf-image" data-image-id="1*OdkqETMPuL5_iPtj5SmpNw.jpeg" data-width="800" data-height="400" src="https://cdn-images-1.medium.com/max/800/1*OdkqETMPuL5_iPtj5SmpNw.jpeg"></div><figcaption class="imageCaption">Testing Vue.js Plugin with Jest + vue-test-utils</figcaption></figure><p name="7f37" id="7f37" class="graf graf--p graf-after--figure">Sebelumnya kita sudah membahas soal unit test di Vue.js menggunakan <em class="markup--em markup--p-em">Jest </em>dan <em class="markup--em markup--p-em">Avoriaz </em><a href="https://medium.com/vuejs-id/unit-test-di-vue-js-dengan-jest-avoriaz-5bb0f1be8425" data-href="https://medium.com/vuejs-id/unit-test-di-vue-js-dengan-jest-avoriaz-5bb0f1be8425" class="markup--anchor markup--p-anchor" target="_blank">disini</a> dan pada artikel kali ini kita akan membahas dan implementasi unit test menggunakan <em class="markup--em markup--p-em">Jest </em>dan <a href="https://github.com/vuejs/vue-test-utils" data-href="https://github.com/vuejs/vue-test-utils" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">vue-test-utils</em></strong></a>, kenapa <em class="markup--em markup--p-em">vue-test-utils</em> ? tentu saja karena merupakan salah satu library untuk unit test di lingkungan Vue.js yang secara official didukung dan dikembangkan oleh core team dari Vue.js meskipun <em class="markup--em markup--p-em">Lead </em>dari pengembangnya adalah orang yang sama dengan pembuat <em class="markup--em markup--p-em">Avoriaz </em>sendiri, namun beliau sendiri menyatakan kalau sekarang sedang fokus mengembangkan vue-test-utils dan menunda penambahan fitur bagi Avoriaz dan akan menyiapkan petunjuk untuk migrasi bagi pengguna Avoriaz ke vue-test-utils yang bisa dilihat di issue <a href="https://github.com/vuejs/vue-test-utils/issues/89" data-href="https://github.com/vuejs/vue-test-utils/issues/89" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">#89</a>.</p><figure name="1c42" id="1c42" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 168px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 23.9%;"></div><img class="graf-image" data-image-id="1*290mnkVK3NRybAbw7Gs63g.png" data-width="798" data-height="191" src="https://cdn-images-1.medium.com/max/800/1*290mnkVK3NRybAbw7Gs63g.png"></div><figcaption class="imageCaption">Avoriaz migration (<a href="https://github.com/vuejs/vue-test-utils/issues/89" data-href="https://github.com/vuejs/vue-test-utils/issues/89" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">https://github.com/vuejs/vue-test-utils/issues/89</a>)</figcaption></figure><p name="ea25" id="ea25" class="graf graf--p graf-after--figure graf--trailing"><em class="markup--em markup--p-em">Vue-test-utils</em> pada saat artikel ini ditulis telah sampai pada versi <a href="https://github.com/vuejs/vue-test-utils/releases/tag/v1.0.0-beta.4" data-href="https://github.com/vuejs/vue-test-utils/releases/tag/v1.0.0-beta.4" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">v1.0.0-beta.4</a> dan pastinya tidak akan lama lagi untuk menjadi versi stable. Meskipun sekarang masih beta version, namun fitur yang dibawa sudah hampir setara dengan pendahulunya <em class="markup--em markup--p-em">Avoriaz </em>bahkan beberapa sintaks seperti lebih mudah untuk dibuat diatas vue-test-utils ini.</p></div></div></section><section name="69ca" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="1ca8" id="1ca8" class="graf graf--p graf--leading">Langsung saja kita akan mencoba untuk menggunakan vue-test-utils sebagai library untuk membantu membuat unit test, berikut langkah-langkahnya :</p><h4 name="277c" id="277c" class="graf graf--h4 graf-after--p">Install dependencies</h4><p name="3ca2" id="3ca2" class="graf graf--p graf-after--h4">Beberapa dependency tambahan yang perlu kita install antara lain <em class="markup--em markup--p-em">vue-test-utils, jest, jest-vue</em>. Anda bisa menginstall dependency tersebut dengan npm ataupun yarn seperti berikut:</p><blockquote name="c9a4" id="c9a4" class="graf graf--blockquote graf-after--p">npm i vue-test-utils@latest jest jest-vue — save-dev</blockquote><blockquote name="db5c" id="db5c" class="graf graf--blockquote graf-after--blockquote">yarn add vue-test-utils@latest jest jest-vue — dev</blockquote><figure name="e806" id="e806" class="graf graf--figure graf-after--blockquote"><div class="aspectRatioPlaceholder is-locked" style="max-width: 471px; max-height: 619px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 131.4%;"></div><img class="graf-image" data-image-id="1*bUoYgn804JjeTyPKvJMUew.png" data-width="471" data-height="619" src="https://cdn-images-1.medium.com/max/800/1*bUoYgn804JjeTyPKvJMUew.png"></div><figcaption class="imageCaption">Dependency vue-currency-filter</figcaption></figure><h4 name="51f6" id="51f6" class="graf graf--h4 graf-after--figure">Konfigurasi Jest</h4><figure name="4732" id="4732" class="graf graf--figure graf-after--h4"><div class="aspectRatioPlaceholder is-locked" style="max-width: 529px; max-height: 337px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 63.7%;"></div><img class="graf-image" data-image-id="1*jn_IKPkW10MTBnHzbsPQdw.png" data-width="529" data-height="337" src="https://cdn-images-1.medium.com/max/800/1*jn_IKPkW10MTBnHzbsPQdw.png"></div><figcaption class="imageCaption">Konfigurasi Jest vue-currency-filter</figcaption></figure><p name="87fa" id="87fa" class="graf graf--p graf-after--figure">Konfigurasinya masih sama seperti pada artikel <a href="https://medium.com/vuejs-id/unit-test-di-vue-js-dengan-jest-avoriaz-5bb0f1be8425" data-href="https://medium.com/vuejs-id/unit-test-di-vue-js-dengan-jest-avoriaz-5bb0f1be8425" class="markup--anchor markup--p-anchor" target="_blank">sebelumnya</a>, hanya saja kita mengganti transform plugin yang digunakan menjadi <em class="markup--em markup--p-em">jest-vue</em>.</p><h4 name="1d4d" id="1d4d" class="graf graf--h4 graf-after--p">Contoh Kode Unit Test</h4><figure name="c035" id="c035" class="graf graf--figure graf-after--h4"><div class="aspectRatioPlaceholder is-locked" style="max-width: 550px; max-height: 418px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 76%;"></div><img class="graf-image" data-image-id="1*Xe91SNvZcJ4hr-ktwTUtwA.png" data-width="550" data-height="418" src="https://cdn-images-1.medium.com/max/800/1*Xe91SNvZcJ4hr-ktwTUtwA.png"></div><figcaption class="imageCaption">Contoh kode unit test vue-currency-filter</figcaption></figure><p name="8a37" id="8a37" class="graf graf--p graf-after--figure">Salah satu alasan kenapa saya memilih menggunakan vue-test-utils untuk unit test project vue-currency-filter adalah adanya <a href="https://vue-test-utils.vuejs.org/en/api/options.html#localvue" data-href="https://vue-test-utils.vuejs.org/en/api/options.html#localvue" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">localVue</a> yang memungkinkan kita untuk membuat unit test terhadap Vue.js Plugin dengan lebih mudah.</p><p name="f4db" id="f4db" class="graf graf--p graf-after--p">Ada banyak lagi <em class="markup--em markup--p-em">features</em> hebat lain dari vue-test-utils yang pastinya bisa kita manfaatkan, untuk selengkapnya bisa dibaca di dokumentasinya berikut :</p><div name="25d6" id="25d6" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://vue-test-utils.vuejs.org/en/" data-href="https://vue-test-utils.vuejs.org/en/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://vue-test-utils.vuejs.org/en/"><strong class="markup--strong markup--mixtapeEmbed-strong">Introduction · GitBook</strong><br><em class="markup--em markup--mixtapeEmbed-em">Vue-test-utils Documentation</em>vue-test-utils.vuejs.org</a><a href="https://vue-test-utils.vuejs.org/en/" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="fb58cb7637782c57f6a8f4c4ab994914"></a></div><h4 name="2152" id="2152" class="graf graf--h4 graf-after--mixtapeEmbed">Running Test &amp; Coverage</h4><p name="1092" id="1092" class="graf graf--p graf-after--h4">Jest bisa dengan mudah dijalankan beserta <em class="markup--em markup--p-em">coverage report</em>-nya dengan perintah : <em class="markup--em markup--p-em">jest — coverage</em></p><figure name="24e5" id="24e5" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 303px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 43.3%;"></div><img class="graf-image" data-image-id="1*RYCeaSG30Ft04-sXwRzl4g.png" data-width="741" data-height="321" src="https://cdn-images-1.medium.com/max/800/1*RYCeaSG30Ft04-sXwRzl4g.png"></div><figcaption class="imageCaption">Running Jest</figcaption></figure><h4 name="0f57" id="0f57" class="graf graf--h4 graf-after--figure">Otomatisasi dan upload coverage</h4><p name="d7b2" id="d7b2" class="graf graf--p graf-after--h4 graf--trailing">Untuk melakukan otomatisasi cek coverage tiap kali commit dan meng-upload hasilnya kita bisa memanfaatkan travis dan codecov yang caranya sama dengan yang dijelaskan pada artikel sebelumya <a href="https://medium.com/vuejs-id/unit-test-di-vue-js-dengan-jest-avoriaz-5bb0f1be8425" data-href="https://medium.com/vuejs-id/unit-test-di-vue-js-dengan-jest-avoriaz-5bb0f1be8425" class="markup--anchor markup--p-anchor" target="_blank">disini</a>.</p></div></div></section><section name="4eb9" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="a009" id="a009" class="graf graf--p graf--leading">Semua kode yang dibagikan dalam tulisan kali ini adalah potongan kode dari repository <a href="https://github.com/mazipan/vue-currency-filter" data-href="https://github.com/mazipan/vue-currency-filter" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">vue-currency-filter</strong></a> berikut :</p><div name="cb81" id="cb81" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://github.com/mazipan/vue-currency-filter" data-href="https://github.com/mazipan/vue-currency-filter" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/mazipan/vue-currency-filter"><strong class="markup--strong markup--mixtapeEmbed-strong">mazipan/vue-currency-filter</strong><br><em class="markup--em markup--mixtapeEmbed-em">vue-currency-filter - :heavy_dollar_sign: Lightweight and Customizeable Vue 2 Currency Filter</em>github.com</a><a href="https://github.com/mazipan/vue-currency-filter" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="8bc1a57ed303e023431b5a39f3d250b8" data-thumbnail-img-id="0*maSL34Co-Y-ogYIC." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*maSL34Co-Y-ogYIC.);"></a></div></div></div></section><section name="41f0" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="6310" id="6310" class="graf graf--p graf--leading">Demikian tulisan singkat dari saya, semoga bermanfaat.</p><blockquote name="3d67" id="3d67" class="graf graf--blockquote graf-after--p graf--trailing">Ditulis oleh <a href="https://medium.com/u/d09eac079a9c" data-href="https://medium.com/u/d09eac079a9c" data-anchor-type="2" data-user-id="d09eac079a9c" data-action-value="d09eac079a9c" data-action="show-user-card" data-action-type="hover" class="markup--user markup--blockquote-user" target="_blank">Irfan Maulana</a></blockquote></div></div></section>
</section>
<footer><p class="p-tags">Tagged in <a href="https://medium.com/tag/vue" class="p-tag">Vue</a>, <a href="https://medium.com/tag/vuejs" class="p-tag">Vuejs</a>, <a href="https://medium.com/tag/vue-series" class="p-tag">Vue Series</a>, <a href="https://medium.com/tag/vue-indonesia" class="p-tag">Vue Indonesia</a>, <a href="https://medium.com/tag/vue-project" class="p-tag">Vue Project</a></p><p>By <a href="https://medium.com/@mazipanneh" class="p-author h-card">Irfan Maulana</a> on <a href="https://medium.com/p/b0dba9fc6ccf"><time class="dt-published" datetime="2017-10-31T10:39:05.664Z">October 31, 2017</time></a>.</p><p><a href="https://medium.com/@mazipanneh/unit-test-untuk-plugin-vue-js-dengan-jest-vue-test-utils-b0dba9fc6ccf" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on May 8, 2018.</p></footer></article>

</body></html>